{% extends 'base.html.twig' %}

{% block title %}Commandes
{% endblock %}

{% block body %}
	<div class="container my-5 container-margin">
		<h1 class="text-center">Vos commandes</h1>
		<ul class="nav nav-tabs mt-5" id="commandsTabs" role="tablist">
			<li class="nav-item" role="presentation">
				<button class="nav-link active" id="commands-tab" data-bs-toggle="tab" data-bs-target="#commands-tab-pane" type="button" role="tab" aria-controls="commands-tab-pane" aria-selected="true">Commandes</button>
			</li>
			<li class="nav-item" role="presentation">
				<button class="nav-link" id="past-tab" data-bs-toggle="tab" data-bs-target="#past-tab-pane" type="button" role="tab" aria-controls="past-tab-pane" aria-selected="false">Historique des commandes</button>
			</li>

		</ul>
		<div class="tab-content" id="commandsContent">
			<div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
			<div class="row">
				{% for order in app.user.orders %}
					<div class="col-12 mt-3">
					{% for orderDetail in order.orderDetails %}
								<div class="card p-2 flex-row">
									<div class="d-flex flex-column col-3 ms-5">
										{% if order.product.images|length > 0 %}
											<img src="{{ order.product.images[0].path }}" class="mx-auto cart-img" alt="{{ order.product.images[0].title }}">
										{% else %}
											<img src="/img/placeholder.png" class="mx-auto cart-img" alt="placeholder">
										{% endif %}
									</div>
									<div class="card-body">
										<h5 class="card-title text-center">{{ order.product.name }}</h5>
										<p name="prices" class="card-text text-center">{{ order.product.price * order.quantity }}â‚¬</p>

										<div class="d-flex my-5 justify-content-center">
											<input class="form-control h-50 w-25" type="number" name="quantity" id="quantity" data-price={{ order.product.price }} data-id={{ order.id }} value="{{ cartDetail.quantity }}" min="1" disabled>
										</div>
									</div>
								</div>
								
							</div>
				{% endfor %}
			</div>
			</div>
			<div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">...</div>
		</div>

	</div>
{% endblock %}
